spring:
  application:
    name: service1

  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: https://keycloak.adjoda.com.ngrok.app/realms/adjoda-dev-realm
          jwk-set-uri: https://keycloak.adjoda.com.ngrok.app/realms/adjoda-dev-realm/protocol/openid-connect/certs
      client:
        registration:
          service-1-to-2-registrationId:
            client-id: service1 # created at keycloak admin console
            client-secret: fCAFm8qAVWRFJLYmbE52kez0A2I89tT0 # generated by keycloak
            authorization-grant-type: client_credentials # https://oauth.net/2/grant-types/client-credentials/
            scope:
              - service2:resource1
              - service2:resource2
            provider: keycloak

          service-1-to-3-registrationId:
            client-id: service1 # created at keycloak admin console
            client-secret: fCAFm8qAVWRFJLYmbE52kez0A2I89tT0 # generated by keycloak
            authorization-grant-type: client_credentials # https://oauth.net/2/grant-types/client-credentials/
            scope:
              - service3:resource1
              - service3:resource2
            provider: keycloak

        provider:
          keycloak:
            issuer-uri: https://keycloak.adjoda.com.ngrok.app/realms/adjoda-dev-realm

server:
  port: 10001


service-2:
  base-url: http://localhost:10002

service-3:
  base-url: http://localhost:10003